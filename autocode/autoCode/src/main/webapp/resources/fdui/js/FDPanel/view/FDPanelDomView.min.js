var FDPanelDomView=function(a){this.options=a;this.panel=this.buildPanel();this.titleBar=this.buildTitleBar();this.title=this.buildTitle();this.closeBtn=this.buildCloseBtn();this.toggleBtn=this.buildToggleBtn();this.content=this.buildContent();this.targetDom=this.buildTargetDom();this.initPanel();this.render()};FDPanelDomView.prototype={initPanel:function(){this.titleBar.appendChild(this.title);this.titleBar.appendChild(this.toggleBtn);this.titleBar.appendChild(this.closeBtn);this.panel.appendChild(this.titleBar);this.panel.appendChild(this.content);this._initSize()},setTitle:function(a){this.title.innerHTML=a},setWidth:function(a){if(FDLib.util.isString(a)){this.content.style.width=a}},setHeight:function(a){if(FDLib.util.isString(a)){this.content.style.height=a}},setContent:function(a){this.content.innerHTML=a},render:function(a){this.content.appendChild(this.targetDom);if(a){this.options.domId=a}var b=FDLib.getEl(this.options.domId)||document.body;b.appendChild(this.panel)},close:function(){this.panel.style.display="none"},hide:function(){this.close()},show:function(){this.targetDom.style.display="block";this.panel.style.display="block"},buildTargetDom:function(){if(this.options.contentId){var a=FDLib.getEl(this.options.contentId);if(!a){throw Error("未找到"+this.options.contentId)}a.style.display="none";return a}else{throw new Error("没有指定contentId,当前contentId值为:"+this.options.contentId)}},buildPanel:function(){var a=this.createEl(FDTag.DIV,this.getPanelClassName());a.style.display="none";return a},buildTitleBar:function(){return this.createEl(FDTag.DIV,this.getTitleBarClassName())},buildTitle:function(){var a=this.createEl(FDTag.SPAN,this.getTitleClassName());if(this.options.title){a.innerHTML=this.options.title}return a},buildCloseBtn:function(){var a=this;if(this.options.closeable){var c=this.createEl(FDTag.A,this.getTitleBarBtnClassName());FDLib.event.addEvent(c,"click",function(d){a.close();d.preventDefault();d.stopPropagation()});var b=this.createEl(FDTag.SPAN,this.getCloseIconClassName());c.appendChild(b);FDLib.addHoverEffect(c);return c}else{return this._getEmptySpan()}},buildToggleBtn:function(){var b=this;if(this.options.toggleable){var c=this.createEl(FDTag.A,this.getTitleBarBtnClassName());FDLib.event.addEvent(c,"click",function(d){b.slideToggle();d.preventDefault();d.stopPropagation()});var a=this.getToggleIcon();c.appendChild(a);FDLib.addHoverEffect(c);return c}else{return this._getEmptySpan()}},getToggleIcon:function(){if(!this.toggleIcon){this.toggleIcon=this.createEl(FDTag.SPAN,this.getToggleIconClassName())}return this.toggleIcon},buildContent:function(){return this.createEl(FDTag.DIV,this.getContentClassName())},slideToggle:function(){if(this.isExpand()){this.unexpand()}else{this.expand()}return false},expand:function(){var b=this.toggleBtn;this.content.style.display="block";this.options.isExpand=true;b.title="点击收缩";var a=this.getToggleIcon();FDLib.dom.removeClass(a,"ui-icon-plusthick");FDLib.dom.addClass(a,"ui-icon-minusthick")},unexpand:function(){var b=this.toggleBtn;this.content.style.display="none";this.options.isExpand=false;b.title="点击展开";var a=this.getToggleIcon();FDLib.dom.addClass(a,"ui-icon-plusthick");FDLib.dom.removeClass(a,"ui-icon-minusthick")},isExpand:function(){var b=this.options;var a=b.isSlide;return !a||(b.isExpand&&a)},getTitleBarBtnClassName:function(){return"pui-panel-titlebar-icon ui-corner-all ui-state-default"},getTitleClassName:function(){return"ui-panel-title"},getPanelClassName:function(){return"pui-panel ui-widget ui-widget-content ui-corner-all"},getTitleBarClassName:function(){return"pui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all"},getContentClassName:function(){return"pui-panel-content ui-widget-content"},getCloseIconClassName:function(){return"ui-icon ui-icon-closethick"},getToggleIconClassName:function(){return"ui-icon ui-icon-minusthick"},createEl:function(c,b){var a=document.createElement(c);a.className=b;return a},_getEmptySpan:function(){return this.createEl(FDTag.SPAN,"")},_initSize:function(){var b=this.options.width;var a=this.options.height;this.setWidth(b);this.setHeight(a)}};